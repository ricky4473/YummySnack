<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>YummySnack Admin Dashboard</title>

    <!-- GOOGLE FONTS -->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,500|Poppins:400,500,600,700|Roboto:400,500"
      rel="stylesheet" />
    <link
      href="https://cdn.materialdesignicons.com/4.4.95/css/materialdesignicons.min.css"
      rel="stylesheet" />

    <!-- PLUGINS CSS STYLE -->
    <link href="/static/management/assets/plugins/nprogress/nprogress.css" rel="stylesheet" />

    <!-- No Extra plugin used -->

    <link
      href="/static/management/assets/plugins/jvectormap/jquery-jvectormap-2.0.3.css"
      rel="stylesheet" />

    <link
      href="/static/management/assets/plugins/daterangepicker/daterangepicker.css"
      rel="stylesheet" />

    <link href="/static/management/assets/plugins/toastr/toastr.min.css" rel="stylesheet" />

    <!-- SLEEK CSS -->
    <link id="sleek-css" rel="stylesheet" href="/static/management/assets/css/sleek.css" />

    <!-- FAVICON -->
    <link href="/static/management/assets/img/favicon.png" rel="shortcut icon" />

    <!--
    HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
  -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="/static/management/assets/plugins/nprogress/nprogress.js"></script>
  </head>

  <body class="header-fixed sidebar-fixed sidebar-dark header-light" id="body">
    <script>
      NProgress.configure({ showSpinner: false })
      NProgress.start()
    </script>

    <div id="toaster"></div>

    <div class="wrapper">

      <!--
          ====================================
          ——— LEFT SIDEBAR WITH FOOTER
          =====================================
        -->
      <aside class="left-sidebar bg-sidebar">
        <div id="sidebar" class="sidebar sidebar-with-footer">
          <!-- Aplication Brand -->
          <div class="app-brand">
            <a href="{% url 'management' %}" title="YummySnackDashboard">
              <span class="brand-name text-truncate">YummyDashboard</span>
            </a>
          </div>
          <!-- begin sidebar scrollbar -->
          <div class="sidebar-scrollbar">
            <!-- sidebar menu -->
            <ul class="nav sidebar-inner" id="sidebar-menu">
              <li class="has-sub active expand">
                <a
                  class="sidenav-item-link"
                  href="javascript:void(0)"
                  data-toggle="collapse"
                  data-target="#dashboard"
                  aria-expanded="false"
                  aria-controls="dashboard">
                  <i class="mdi mdi-view-dashboard-outline"></i>
                  <span class="nav-text">Dashboard</span>
                  <b class="caret"></b>
                </a>
                <ul class="collapse show" id="dashboard" data-parent="#sidebar-menu">
                  <div class="sub-menu">
                    <li class="active">
                      <a class="sidenav-item-link" href="index.html">
                        <span class="nav-text">Ecommerce</span>
                      </a>
                    </li>

                    <li>
                      <a class="sidenav-item-link" href="analytics.html">
                        <span class="nav-text">Analytics</span>

                        <span class="badge badge-success">new</span>
                      </a>
                    </li>
                  </div>
                </ul>
              </li>

              <li class="has-sub">
                <a
                  class="sidenav-item-link"
                  href="javascript:void(0)"
                  data-toggle="collapse"
                  data-target="#app"
                  aria-expanded="false"
                  aria-controls="app">
                  <i class="mdi mdi-pencil-box-multiple"></i>
                  <span class="nav-text">App</span>
                  <b class="caret"></b>
                </a>
                <ul class="collapse" id="app" data-parent="#sidebar-menu">
                  <div class="sub-menu">
                    <li>
                      <a class="sidenav-item-link" href="chat.html">
                        <span class="nav-text">Chat</span>
                      </a>
                    </li>

                    <li>
                      <a class="sidenav-item-link" href="contacts.html">
                        <span class="nav-text">Contacts</span>
                      </a>
                    </li>

                    <li>
                      <a class="sidenav-item-link" href="team.html">
                        <span class="nav-text">Team</span>
                      </a>
                    </li>

                    <li>
                      <a class="sidenav-item-link" href="calendar.html">
                        <span class="nav-text">Calendar</span>
                      </a>
                    </li>
                  </div>
                </ul>
              </li>








            </ul>
          </div>

        </div>
      </aside>

      <div class="page-wrapper">
        <!-- Header -->
        <header class="main-header" id="header">
          <nav class="navbar navbar-static-top navbar-expand-lg">
            <!-- Sidebar toggle button -->
            <button id="sidebar-toggler" class="sidebar-toggle">
              <span class="sr-only">Toggle navigation</span>
            </button>
            <!-- search form -->
            <div class="search-form d-none d-lg-inline-block">
              <div class="input-group">
                <button type="button" name="search" id="search-btn" class="btn btn-flat">
                  <i class="mdi mdi-magnify"></i>
                </button>
                <input
                  type="text"
                  name="query"
                  id="search-input"
                  class="form-control"
                  placeholder="'button', 'chart' etc."
                  autofocus
                  autocomplete="off" />
              </div>
              <div id="search-results-container">
                <ul id="search-results"></ul>
              </div>
            </div>

            <div class="navbar-right">
              <ul class="nav navbar-nav">
                <li class="dropdown notifications-menu">
                  <button class="dropdown-toggle" data-toggle="dropdown">
                    <i class="mdi mdi-bell-outline"></i>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-right">
                    <li class="dropdown-header">You have 5 notifications</li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-account-plus"></i>
                        New user registered
                        <span class="font-size-12 d-inline-block float-right">
                          <i class="mdi mdi-clock-outline"></i>
                          10 AM
                        </span>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-account-remove"></i>
                        User deleted
                        <span class="font-size-12 d-inline-block float-right">
                          <i class="mdi mdi-clock-outline"></i>
                          07 AM
                        </span>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-chart-areaspline"></i>
                        Sales report is ready
                        <span class="font-size-12 d-inline-block float-right">
                          <i class="mdi mdi-clock-outline"></i>
                          12 PM
                        </span>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-account-supervisor"></i>
                        New client
                        <span class="font-size-12 d-inline-block float-right">
                          <i class="mdi mdi-clock-outline"></i>
                          10 AM
                        </span>
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-server-network-off"></i>
                        Server overloaded
                        <span class="font-size-12 d-inline-block float-right">
                          <i class="mdi mdi-clock-outline"></i>
                          05 AM
                        </span>
                      </a>
                    </li>
                    <li class="dropdown-footer">
                      <a class="text-center" href="#">View All</a>
                    </li>
                  </ul>
                </li>
                <li class="right-sidebar-in right-sidebar-2-menu">
                  <i class="mdi mdi-settings mdi-spin"></i>
                </li>
                <!-- User Account -->
                <li class="dropdown user-menu">
                  <button href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                    <img
                      src="{{user.avatar.url}}"
                      class="user-image"
                      alt="User Image" />
                    <span class="d-none d-lg-inline-block">{{user.first_name}} {{user.last_name}}</span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-right">
                    <!-- User image -->
                    <li class="dropdown-header">
                      <img
                        src="{{user.avatar.url}}"
                        class="img-circle"
                        alt="User Image" />
                      <div class="d-inline-block">
                        {{user.first_name}} {{user.last_name}}
                        <small class="pt-1">{{user.email}}</small>
                      </div>
                    </li>

                    <li>
                      <a href="user-profile.html">
                        <i class="mdi mdi-account"></i>
                        My Profile
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-email"></i>
                        Message
                      </a>
                    </li>
                    <li>
                      <a href="#">
                        <i class="mdi mdi-diamond-stone"></i>
                        Projects
                      </a>
                    </li>
                    <li class="right-sidebar-in">
                      <a href="javascript:0">
                        <i class="mdi mdi-settings"></i>
                        Setting
                      </a>
                    </li>

                    <li class="dropdown-footer">
                      <a href="index.html">
                        <i class="mdi mdi-logout"></i>
                        Log Out
                      </a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </nav>
        </header>

        <div class="content-wrapper">
          <div class="content">
            <!-- Top Statistics -->
            <div class="row">
              <div class="col-xl-3 col-sm-6">
                <div class="card card-mini mb-4">
                  <div class="card-body">
                    <h2 class="mb-1 livevistor">0</h2>
                    <p>Online Vistors</p>
                    <div class="chartjs-wrapper">
                      <canvas id="barChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6">
                <div class="card card-mini mb-4">
                  <div class="card-body">
                    <h2 class="mb-1"> {{newvistordict.newvistor.6}}</h2>
                    <p>New Visitors Today</p>
                    <div class="chartjs-wrapper">
                      <canvas id="dual-line"></canvas>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6">
                <div class="card card-mini mb-4">
                  <div class="card-body">
                    <h2 class="mb-1">{{labeldatadict.weeklytotalorder}}</h2>
                    <p>Weekly Total Order</p>
                    <div class="chartjs-wrapper">
                      <canvas id="area-chart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6">
                <div class="card card-mini mb-4">
                  <div class="card-body">
                    <h2 class="mb-1">$ {{totalyearsale}}</h2>
                    <p>Total Revenue This Year</p>
                    <div class="chartjs-wrapper">
                      <canvas id="line"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div class="row">
							<div class="col-xl-8 col-md-12">
                      <!-- Sales Graph -->
                      <div class="card card-default" data-scroll-height="675">
                        <div class="card-header">
                          <h2>Sales Of 7 Days</h2>
                        </div>
                        <div class="card-body">
                          <canvas id="linechart" class="chartjs"></canvas>
                        </div>
                        <!-- <div class="card-footer d-flex flex-wrap bg-white p-0">
                          <div class="col-6 px-0">
                            <div class="text-center p-4">
                              <h4>$6,308</h4>
                              <p class="mt-2">Total orders of this year</p>
                            </div>
                          </div>
                          <div class="col-6 px-0">
                            <div class="text-center p-4 border-left">
                              <h4>$70,506</h4>
                              <p class="mt-2">Total revenue of this year</p>
                            </div>
                          </div>
                        </div> -->
                      </div>
</div>





							<div class="col-xl-4 col-md-12">
                  <!-- Doughnut Chart -->
                  <div class="card card-default" data-scroll-height="675">
                    <div class="card-header justify-content-center">
                      <h2>Orders Overview</h2>
                    </div>
                    <div class="card-body" >
                      <canvas id="doChart" ></canvas>
                    </div>
                    <a href="#" class="pb-5 d-block text-center text-muted">Totol Order:{{totalorder}}</a>
                    <div class="card-footer d-flex flex-wrap bg-white p-0">
                      <div class="col-6">
                        <div class="py-4 px-4">
                          <ul class="d-flex flex-column justify-content-between">
                            <li class="mb-2"><i class="mdi mdi-checkbox-blank-circle-outline mr-2" style="color: #ffa128"></i>處理中</li>
                            <li><i class="mdi mdi-checkbox-blank-circle-outline mr-2" style="color: #80e1c1 "></i>已發貨</li>
                          </ul>
                        </div>
                      </div>
                      <div class="col-6 border-left">
                        <div class="py-4 px-4 ">
                          <ul class="d-flex flex-column justify-content-between">
                            <li class="mb-2"><i class="mdi mdi-checkbox-blank-circle-outline mr-2" style="color: #8061ef"></i>已完成</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
</div>
						</div>
            


            <div class="row">
              <div class="col-12">
                <!-- Recent Order Table -->
                <div class="card card-table-border-none" id="recent-orders">
                  <div class="card-header justify-content-between">
                    <h2>Recent Orders</h2>
                    <!-- <div class="date-range-report">
                      <span></span>
                    </div> -->
                  </div>
                  <div class="card-body pt-0 pb-5">
                    <table
                      class="table card-table table-responsive table-responsive-large"
                      style="width: 100%">
                      <thead>
                        <tr>
                          <th>Order ID</th>
                          <th>User Name</th>
                          <th>User Email</th>
                          <th class="d-none d-lg-table-cell">Total</th>
                          <th class="d-none d-lg-table-cell">Paid Time</th>
                          <th class="d-none d-lg-table-cell">Is Member</th>
                          <th class="d-none d-lg-table-cell">Voucher</th>
                          <th>Status</th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody>

                        {% for order in orders %}
                        <tr>
                          <td>{{order.id}}</td>
                          <td>
                            <a class="text-dark" href="">{{order.user.last_name}}</a>
                          </td>
                          <td>
                            <a class="text-dark" href="">{{order.user.email}}</a>
                          </td>
                          <td class="d-none d-lg-table-cell">$ {{order.total}}</td>
                          <td class="d-none d-lg-table-cell">{{order.paid_time}}</td>
                          <td class="d-none d-lg-table-cell" {% if order.user.membership %}style='color:#ff9900;'{% endif %}>{{order.user.membership}}</td>
                          <td class="d-none d-lg-table-cell" {% if order.voucher %}style='color:red;;'{% endif %}>{{order.voucher}}</td>
                          <td>
                            <span class="badge badge-success" style="background-color:{% if order.status == 1 %}
                            #ffa128
                            {% elif order.status == 2 %}
                            #29cc97
                            {% elif order.status == 3 %}
                            #8061ef
                            {% endif %};">{{order.get_status_display}}</span>
                          </td>
                          <td class="text-right">
                            <div class="dropdown show d-inline-block widget-dropdown">
                              <a
                                class="dropdown-toggle icon-burger-mini"
                                href=""
                                role="button"
                                id="dropdown-recent-order1"
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false"
                                data-display="static"></a>
                              <ul
                                class="dropdown-menu dropdown-menu-right"
                                aria-labelledby="dropdown-recent-order1">
                                <li class="dropdown-item">
                                  <a href="/admin/pages/order/{{order.id}}/change" target='_blank'>View</a>
                                </li>
                                <li class="dropdown-item">
                                  <a href="{% url 'delete_order' order.id %}">Remove</a>
                                </li>
                              </ul>
                            </div>
                          </td>
                        </tr>

                        {% endfor %}

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-xl-5">
                <!-- New Customers -->
                <div class="card card-table-border-none" data-scroll-height="580">
                  <div class="card-header justify-content-between">
                    <h2>New Customers</h2>
                    <div>
                      <button class="text-black-50 mr-2 font-size-20">
                        <i class="mdi mdi-cached"></i>
                      </button>
                      <div class="dropdown show d-inline-block widget-dropdown">
                        <a
                          class="dropdown-toggle icon-burger-mini"
                          href="#"
                          role="button"
                          id="dropdown-customar"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                          data-display="static"></a>
                        <ul
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdown-customar">
                          <li class="dropdown-item"><a href="#">Action</a></li>
                          <li class="dropdown-item"><a href="#">Another action</a></li>
                          <li class="dropdown-item"><a href="#">Something else here</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <table class="table">
                      <tbody>


                        {% for user in users %}
                        
                        

                        <tr>
                          <td>
                            <div class="media">
                              <div class="media-image mr-3 rounded-circle">
                                <a href="#">
                                  <img
                                    class="rounded-circle w-45"
                                    src="{{user.avatar.url}}"
                                    alt="customer image" />
                                </a>
                              </div>
                              <div class="media-body align-self-center">
                                <a href="#">
                                  <h6 class="mt-0 text-dark font-weight-medium">{{user.last_name}}</h6>
                                </a>
                                <small>{{user.email}}</small>
                              </div>
                            </div>
                          </td>
                          <td>{{user.ordercount.0}} Orders</td>
                          <td class="text-dark d-none d-md-block">${{user.ordercount.1}}</td>
                        </tr>

                        {% endfor %}

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col-xl-7 col-12">
                <!-- Notification Table -->
                <div class="card card-default" data-scroll-height="550">
                  <div class="card-header justify-content-between">
                    <h2>Latest Notifications</h2>
                    <div>
                      <button class="text-black-50 mr-2 font-size-20">
                        <i class="mdi mdi-cached"></i>
                      </button>
                      <div class="dropdown show d-inline-block widget-dropdown">
                        <a
                          class="dropdown-toggle icon-burger-mini"
                          href="#"
                          role="button"
                          id="dropdown-notification"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                          data-display="static"></a>
                        <ul
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdown-notification">
                          <li class="dropdown-item"><a href="#">Action</a></li>
                          <li class="dropdown-item"><a href="#">Another action</a></li>
                          <li class="dropdown-item"><a href="#">Something else here</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="card-body slim-scroll">
                    <div class="media pb-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-primary text-white">
                        <i class="mdi mdi-cart-outline font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">New Order</a>
                        <p>Selena has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        10 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-success text-white">
                        <i class="mdi mdi-email-outline font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">New Enquiry</a>
                        <p>Phileine has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        9 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-warning text-white">
                        <i class="mdi mdi-stack-exchange font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">Support Ticket</a>
                        <p>Emma has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        10 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-primary text-white">
                        <i class="mdi mdi-cart-outline font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">New order</a>
                        <p>Ryan has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        10 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-info text-white">
                        <i class="mdi mdi-calendar-blank font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="">Comapny Meetup</a>
                        <p>Phileine has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        10 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-warning text-white">
                        <i class="mdi mdi-stack-exchange font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">Support Ticket</a>
                        <p>Emma has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        10 AM
                      </span>
                    </div>

                    <div class="media py-3 align-items-center justify-content-between">
                      <div
                        class="d-flex rounded-circle align-items-center justify-content-center mr-3 media-icon iconbox-45 bg-success text-white">
                        <i class="mdi mdi-email-outline font-size-20"></i>
                      </div>
                      <div class="media-body pr-3">
                        <a class="mt-0 mb-1 font-size-15 text-dark" href="#">New Enquiry</a>
                        <p>Phileine has placed an new order</p>
                      </div>
                      <span class="font-size-12 d-inline-block">
                        <i class="mdi mdi-clock-outline"></i>
                        9 AM
                      </span>
                    </div>
                  </div>
                  <div class="mt-3"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="right-sidebar-2">
            <div class="right-sidebar-container-2">
              <div class="slim-scroll-right-sidebar-2">
                <div class="right-sidebar-2-header">
                  <h2>Layout Settings</h2>
                  <p>User Interface Settings</p>
                  <div class="btn-close-right-sidebar-2">
                    <i class="mdi mdi-window-close"></i>
                  </div>
                </div>

                <div class="right-sidebar-2-body">
                  <span class="right-sidebar-2-subtitle">Header Layout</span>
                  <div class="no-col-space">
                    <a
                      href="javascript:void(0);"
                      class="btn-right-sidebar-2 header-fixed-to btn-right-sidebar-2-active">
                      Fixed
                    </a>
                    <a href="javascript:void(0);" class="btn-right-sidebar-2 header-static-to">
                      Static
                    </a>
                  </div>

                  <span class="right-sidebar-2-subtitle">Sidebar Layout</span>
                  <div class="no-col-space">
                    <select class="right-sidebar-2-select" id="sidebar-option-select">
                      <option value="sidebar-fixed">Fixed Default</option>
                      <option value="sidebar-fixed-minified">Fixed Minified</option>
                      <option value="sidebar-fixed-offcanvas">Fixed Offcanvas</option>
                      <option value="sidebar-static">Static Default</option>
                      <option value="sidebar-static-minified">Static Minified</option>
                      <option value="sidebar-static-offcanvas">Static Offcanvas</option>
                    </select>
                  </div>

                  <span class="right-sidebar-2-subtitle">Header Background</span>
                  <div class="no-col-space">
                    <a
                      href="javascript:void(0);"
                      class="btn-right-sidebar-2 btn-right-sidebar-2-active header-light-to">
                      Light
                    </a>
                    <a href="javascript:void(0);" class="btn-right-sidebar-2 header-dark-to">
                      Dark
                    </a>
                  </div>

                  <span class="right-sidebar-2-subtitle">Navigation Background</span>
                  <div class="no-col-space">
                    <a
                      href="javascript:void(0);"
                      class="btn-right-sidebar-2 btn-right-sidebar-2-active sidebar-dark-to">
                      Dark
                    </a>
                    <a href="javascript:void(0);" class="btn-right-sidebar-2 sidebar-light-to">
                      Light
                    </a>
                  </div>

                  <span class="right-sidebar-2-subtitle">Direction</span>
                  <div class="no-col-space">
                    <a
                      href="javascript:void(0);"
                      class="btn-right-sidebar-2 btn-right-sidebar-2-active ltr-to">
                      LTR
                    </a>
                    <a href="javascript:void(0);" class="btn-right-sidebar-2 rtl-to">RTL</a>
                  </div>

                  <div class="d-flex justify-content-center" style="padding-top: 30px">
                    <div
                      id="reset-options"
                      style="width: auto; cursor: pointer"
                      class="btn-right-sidebar-2 btn-reset">
                      Reset Settings
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <footer class="footer mt-auto">
          <div class="copyright bg-white">
            <p>
              &copy;
              <span id="copy-year">2019</span>
              Copyright Sleek Dashboard Bootstrap Template by
              <a class="text-primary" href="http://www.iamabdus.com/" target="_blank">Abdus</a>
              .
            </p>
          </div>
          <script>
            var d = new Date()
            var year = d.getFullYear()
            document.getElementById('copy-year').innerHTML = year
          </script>
        </footer>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script src="/static/management/assets/plugins/jquery/jquery.min.js"></script>
    <script src="/static/management/assets/plugins/slimscrollbar/jquery.slimscroll.min.js"></script>
    <script src="/static/management/assets/plugins/jekyll-search.min.js"></script>

    <script src="/static/management/assets/plugins/charts/Chart.min.js"></script>

    <script src="/static/management/assets/plugins/jvectormap/jquery-jvectormap-2.0.3.min.js"></script>
    <script src="/static/management/assets/plugins/jvectormap/jquery-jvectormap-world-mill.js"></script>

    <script src="/static/management/assets/plugins/daterangepicker/moment.min.js"></script>
    <script src="/static/management/assets/plugins/daterangepicker/daterangepicker.js"></script>
    <script>
      jQuery(document).ready(function () {
        jQuery('input[name="dateRange"]').daterangepicker({
          autoUpdateInput: false,
          singleDatePicker: true,
          locale: {
            cancelLabel: 'Clear',
          },
        })
        jQuery('input[name="dateRange"]').on('apply.daterangepicker', function (ev, picker) {
          jQuery(this).val(picker.startDate.format('MM/DD/YYYY'))
        })
        jQuery('input[name="dateRange"]').on('cancel.daterangepicker', function (ev, picker) {
          jQuery(this).val('')
        })
      })
    </script>

    <script src="/static/management/assets/plugins/toastr/toastr.min.js"></script>

    <script src="/static/management/assets/js/sleek.bundle.js"></script>
    <script>
      var ctx = document.getElementById('linechart')
      if (ctx !== null) {
            var chart = new Chart(ctx, {
              // The type of chart we want to create
              type: 'line',
      
              // The data for our dataset
              data: {
                labels: {{labeldatadict.label|safe}},
                datasets: [
                  {
                    label: '',
                    backgroundColor: 'transparent',
                    borderColor: 'rgb(82, 136, 255)',
                    data: {{labeldatadict.data|safe}},
                    lineTension: 0.3,
                    pointRadius: 5,
                    pointBackgroundColor: 'rgba(255,255,255,1)',
                    pointHoverBackgroundColor: 'rgba(255,255,255,1)',
                    pointBorderWidth: 2,
                    pointHoverRadius: 8,
                    pointHoverBorderWidth: 1,
                  },
                ],
              },
      
              // Configuration options go here
              options: {
                responsive: true,
                maintainAspectRatio: false,
                legend: {
                  display: false,
                },
                layout: {
                  padding: {
                    right: 10,
                  },
                },
                scales: {
                  xAxes: [
                    {
                      gridLines: {
                        display: false,
                      },
                    },
                  ],
                  yAxes: [
                    {
                      gridLines: {
                        display: true,
                        color: '#eee',
                        zeroLineColor: '#eee',
                      },
                      ticks: {
                        callback: function (value) {
                          var ranges = [
                            { divider: 1e6, suffix: 'M' },
                            { divider: 1e4, suffix: 'k' },
                          ]
                          function formatNumber(n) {
                            for (var i = 0; i < ranges.length; i++) {
                              if (n >= ranges[i].divider) {
                                return (n / ranges[i].divider).toString() + ranges[i].suffix
                              }
                            }
                            return n
                          }
                          return formatNumber(value)
                        },
                      },
                    },
                  ],
                },
                tooltips: {
                  callbacks: {
                    title: function (tooltipItem, data) {
                      return data['labels'][tooltipItem[0]['index']]
                    },
                    label: function (tooltipItem, data) {
                      return '$' + data['datasets'][0]['data'][tooltipItem['index']]
                    },
                  },
                  responsive: true,
                  intersect: false,
                  enabled: true,
                  titleFontColor: '#888',
                  bodyFontColor: '#555',
                  titleFontSize: 12,
                  bodyFontSize: 18,
                  backgroundColor: 'rgba(256,256,256,0.95)',
                  xPadding: 20,
                  yPadding: 10,
                  displayColors: false,
                  borderColor: 'rgba(220, 220, 220, 0.9)',
                  borderWidth: 2,
                  caretSize: 10,
                  caretPadding: 15,
                },
              },
            })
          }
      
      
    var doughnut = document.getElementById('doChart')
    if (doughnut !== null) {
      var myDoughnutChart = new Chart(doughnut, {
        type: 'doughnut',
        data: {
          labels: {{orderoverviewdict.label|safe}},
          datasets: [
            {
              label:{{orderoverviewdict.label|safe}},
              data: {{orderoverviewdict.data|safe}},
              backgroundColor: ['#ffa128', '#29cc97', '#8061ef', '#fec402'],
              borderWidth: 1,
              // borderColor: ['#4c84ff','#29cc97','#8061ef','#fec402']
              // hoverBorderColor: ['#4c84ff', '#29cc97', '#8061ef', '#fec402']
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          legend: {
            display: false,
          },
          cutoutPercentage: 75,
          tooltips: {
            callbacks: {
              title: function (tooltipItem, data) {
                return 'Order : ' + data['labels'][tooltipItem[0]['index']]
              },
              label: function (tooltipItem, data) {
                return data['datasets'][0]['data'][tooltipItem['index']]
              },
            },
            titleFontColor: '#888',
            bodyFontColor: '#555',
            titleFontSize: 12,
            bodyFontSize: 14,
            backgroundColor: 'rgba(256,256,256,0.95)',
            displayColors: true,
            borderColor: 'rgba(220, 220, 220, 0.9)',
            borderWidth: 2,
          },
        },
      })
    }
      // barchart
    var barX = document.getElementById('barChart')
  if (barX !== null) {
    var myChart = new Chart(barX, {
      type: 'bar',
      data: {
        labels: [
          // 'Jan',
          // 'Feb',
          // 'Mar',
          // 'Apr',
          // 'May',
          // 'Jun',
          // 'Jul',
        
        ],
        datasets: [
          {
            label: 'Vistor',
            data: [],
            // [5, 6, 4.5, 5.5, 3, 6, 9]
            // data: [2, 3.2, 1.8, 2.1, 1.5, 3.5, 4, 2.3, 2.9, 4.5, 1.8, 3.4, 2.8],
            backgroundColor: '#4c84ff',
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        legend: {
          display: false,
        },
        scales: {
          xAxes: [
            {
              gridLines: {
                drawBorder: true,
                display: false,
              },
              ticks: {
                display: true, // hide main x-axis line
                beginAtZero: true,
              },
              barPercentage: 1.8,
              categoryPercentage: 0.2,
            },
          ],
          yAxes: [
            {
              gridLines: {
                drawBorder: true, // hide main y-axis line
                display: false,
              },
              ticks: {
                display: true,
                beginAtZero: true,
                stepSize:1,
              },
            },
          ],
        },
        tooltips: {
          titleFontColor: '#888',
          bodyFontColor: '#555',
          titleFontSize: 12,
          bodyFontSize: 15,
          backgroundColor: 'rgba(256,256,256,0.95)',
          displayColors: false,
          borderColor: 'rgba(220, 220, 220, 0.9)',
          borderWidth: 2,
        },
      },
    })
  }
      

  



  // ************************************



function  vistorgetdata(){

axios({
   url:'/management_livevisitor',
   method:'post',
 }).then(res=>{
   if(myChart.data.datasets[0].data.length >=7){
     myChart.data.labels.shift()
     myChart.data.datasets[0].data.shift()
   }

   const addzero=i=>i<10?"0"+i:i

   const time=new Date()
   const m =addzero(time.getMinutes())
   const s =addzero(time.getSeconds())
   const livenumber=res.data.livenumber.toString()

   myChart.data.labels.push(`${m}:${s}`)
   myChart.data.datasets[0].data.push(livenumber)
   myChart.update()
   document.querySelector('.livevistor').innerHTML=livenumber
 })




 }



  
setInterval(vistorgetdata,3000) 
      
    
  // ***************2************
  
  var dual = document.getElementById('dual-line')
    if (dual !== null) {
      var urChart = new Chart(dual, {
        type: 'line',
        data: {
          labels:{{newvistordict.label|safe}},
          datasets: [
            {
              label: 'Old',
              pointRadius: 4,
              pointBackgroundColor: 'rgba(255,255,255,1)',
              pointBorderWidth: 2,
              fill: false,
              backgroundColor: 'transparent',
              borderWidth: 2,
              borderColor: '#fdc506',
              data: {{newvistordict.oldvistor|safe}},
            },
            {
              label: 'New',
              fill: false,
              pointRadius: 4,
              pointBackgroundColor: 'rgba(255,255,255,1)',
              pointBorderWidth: 2,
              backgroundColor: 'transparent',
              borderWidth: 2,
              borderColor: '#4c84ff',
              data: {{newvistordict.newvistor|safe}},
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          layout: {
            padding: {
              right: 10,
            },
          },

          legend: {
            display: false,
          },
          scales: {
            xAxes: [
              {
                gridLines: {
                  drawBorder: false,
                  display: false,
                },
                ticks: {
                  display: false, // hide main x-axis line
                  beginAtZero: true,
                },
                barPercentage: 1.8,
                categoryPercentage: 0.2,
              },
            ],
            yAxes: [
              {
                gridLines: {
                  drawBorder: false, // hide main y-axis line
                  display: false,
                },
                ticks: {
                  display: false,
                  beginAtZero: true,
                },
              },
            ],
          },
          tooltips: {
            titleFontColor: '#888',
            bodyFontColor: '#555',
            titleFontSize: 12,
            bodyFontSize: 14,
            backgroundColor: 'rgba(256,256,256,0.95)',
            displayColors: true,
            borderColor: 'rgba(220, 220, 220, 0.9)',
            borderWidth: 2,
          },
        },
      })
    }
  
  
  // ***************3************



  var area = document.getElementById('area-chart')
    if (area !== null) {
      var areaChart = new Chart(area, {
        type: 'line',
        data: {
          labels:{{labeldatadict.label|safe}},
          datasets: [
            {
              label: 'New',
              pointHitRadius: 10,
              pointRadius: 0,
              fill: true,
              backgroundColor: 'rgba(76, 132, 255, 0.9)',
              borderColor: 'rgba(76, 132, 255, 0.9)',
              data:{{labeldatadict.newuserorder|safe}},
            },
            {
              label: 'Old',
              pointHitRadius: 10,
              pointRadius: 0,
              fill: true,
              backgroundColor: 'rgba(253, 197, 6, 0.9)',
              borderColor: 'rgba(253, 197, 6, 1)',
              data: {{labeldatadict.olduserorder|safe}},
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          legend: {
            display: false,
          },
          layout: {
            padding: {
              right: 10,
            },
          },
          scales: {
            xAxes: [
              {
                gridLines: {
                  drawBorder: false,
                  display: false,
                },
                ticks: {
                  display: false, // hide main x-axis line
                  beginAtZero: true,
                },
                barPercentage: 1.8,
                categoryPercentage: 0.2,
              },
            ],
            yAxes: [
              {
                gridLines: {
                  drawBorder: false, // hide main y-axis line
                  display: false,
                },
                ticks: {
                  display: false,
                  beginAtZero: true,
                },
              },
            ],
          },
          tooltips: {
            titleFontColor: '#888',
            bodyFontColor: '#555',
            titleFontSize: 12,
            bodyFontSize: 14,
            backgroundColor: 'rgba(256,256,256,0.95)',
            displayColors: true,
            borderColor: 'rgba(220, 220, 220, 0.9)',
            borderWidth: 2,
          },
        },
      })
    }
  // ***************4************
  var line = document.getElementById('line')
    if (line !== null) {
      line = line.getContext('2d')
      var gradientFill = line.createLinearGradient(0, 120, 0, 0)
      gradientFill.addColorStop(0, 'rgba(41,204,151,0.10196)')
      gradientFill.addColorStop(1, 'rgba(41,204,151,0.30196)')

      var lChart = new Chart(line, {
        type: 'line',
        data: {
          labels: {{monthsaledict.label|safe}},
          datasets: [
            {
              label: 'Rev',
              lineTension: 0,
              pointRadius: 4,
              pointBackgroundColor: 'rgba(255,255,255,1)',
              pointBorderWidth: 2,
              fill: true,
              backgroundColor: gradientFill,
              borderColor: '#29cc97',
              borderWidth: 2,
              data: {{monthsaledict.data|safe}},
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          legend: {
            display: false,
          },
          layout: {
            padding: {
              right: 10,
            },
          },
          scales: {
            xAxes: [
              {
                gridLines: {
                  drawBorder: false,
                  display: false,
                },
                ticks: {
                  display: false, // hide main x-axis line
                  beginAtZero: true,
                },
                barPercentage: 1.8,
                categoryPercentage: 0.2,
              },
            ],
            yAxes: [
              {
                gridLines: {
                  drawBorder: false, // hide main y-axis line
                  display: false,
                },
                ticks: {
                  display: false,
                  beginAtZero: true,
                },
              },
            ],
          },
          tooltips: {
            titleFontColor: '#888',
            bodyFontColor: '#555',
            titleFontSize: 12,
            bodyFontSize: 14,
            backgroundColor: 'rgba(256,256,256,0.95)',
            displayColors: true,
            borderColor: 'rgba(220, 220, 220, 0.9)',
            borderWidth: 2,
          },
        },
      })
    }
  // ***************5************
  </script>
  </body>
</html>
